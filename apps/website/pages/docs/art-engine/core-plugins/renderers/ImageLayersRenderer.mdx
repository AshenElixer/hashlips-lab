import { Callout } from "nextra-theme-docs";
import Image from "next/image";

# Image Layers Renderer

The Image Layers Renderer is a plugin designed to work with the Image Layers Generator of the Art Engine. Its purpose is to take the output generated by the Image Layers Generator, which consists of item attributes and their corresponding layered images, and render those layered images into temporary files. These temporary files can then be utilized for further processing or artwork creation.

### How to Add the Plugin in the Art Engine

To use the Image Layers Renderer plugin, you need to integrate it into the Art Engine's rendering pipeline. Follow these steps to add the plugin:

1.  Import the required classes and interfaces:

```ts copy
const { ArtEngine, ImageLayersRenderer } = require("@hashlips-lab/art-engine");
```

2. Create an instance of the ImageLayersRenderer class and pass the required constructor properties:

```ts copy
const ae = new ArtEngine({
  cachePath: `${BASE_PATH}/cache`,
  outputPath: `${BASE_PATH}/output`,
  useCache: false,

  renderers: [
    new ImageLayersRenderer({
      width: 2048, // Specify the width of the rendered image
      height: 2048, // Specify the height of the rendered image
    });
    // Add more renderers if needed...
  ]

  // Add inputs, generators, and exporters as required...
});
```

### Parameters

The Image Layers Renderer plugin requires the following parameters:

- `width` (number): The width of the rendered image in pixels.
- `height` (number): The height of the rendered image in pixels.
- `imageProcessor` (optional): An optional custom image processor that implements the `ImageProcessorInterface`. If not provided, the default `SharpImageProcessor` will be used.

The `init` method of the Image Layers Renderer expects an object of type `RendererInitPropsInterface`, which includes the following properties:

- `attributesGetter` (function): A function that returns the item attributes from the ItemsDataManager. This is used to fetch the attributes for each item generated by the Image Layers Generator.
- `cachePath` (string): The path to the cache directory where temporary rendered images will be stored.
